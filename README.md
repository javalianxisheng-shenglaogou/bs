# å¤šç«™ç‚¹å†…å®¹ç®¡ç†ç³»ç»Ÿï¼ˆMulti-Site CMSï¼‰

## é¡¹ç›®ç®€ä»‹

è¿™æ˜¯ä¸€ä¸ªåŸºäºSpring Bootå’ŒVue.jså¼€å‘çš„å¤šç«™ç‚¹å†…å®¹ç®¡ç†ç³»ç»Ÿï¼Œæ”¯æŒå¤šç«™ç‚¹ç®¡ç†ã€å†…å®¹å…±äº«ã€æƒé™éš”ç¦»ã€å·¥ä½œæµå®¡æ‰¹ç­‰åŠŸèƒ½ã€‚

## æŠ€æœ¯æ ˆ

### åç«¯
- Spring Boot 2.7.18
- Spring Security
- Spring Data JPA
- MySQL 8.0+
- JWTè®¤è¯
- Flywayæ•°æ®åº“è¿ç§»
- Swagger APIæ–‡æ¡£
- Lombok
- MapStruct

### å‰ç«¯
- Vue.js 3.3+
- TypeScript 5.0+
- Vite 5.4 (å…¼å®¹Node.js 18)
- Element Plus 2.8+
- Pinia 2.1+
- Vue Router 4.2+
- Axios 1.7+

## é¡¹ç›®ç»“æ„

```
multi-site-hub/
â”œâ”€â”€ backend/           # åç«¯Spring Booté¡¹ç›®
â”œâ”€â”€ frontend/          # å‰ç«¯Vue.jsé¡¹ç›®
â”œâ”€â”€ docs/              # é¡¹ç›®æ–‡æ¡£
â””â”€â”€ README.md
```

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- JDK 11+
- Node.js 18+
- MySQL 8.0+
- Maven 3.6+

### åç«¯å¯åŠ¨

```bash
cd backend
mvn spring-boot:run
```

è®¿é—®ï¼š
- APIæ¥å£ï¼šhttp://localhost:8080/api/test/health
- Swaggeræ–‡æ¡£ï¼šhttp://localhost:8080/api/swagger-ui.html

### å‰ç«¯å¯åŠ¨

```bash
cd frontend
npm install
npm run dev
```

è®¿é—®å‰ç«¯é¡µé¢ï¼šhttp://localhost:3000

### æ•°æ®åº“é…ç½®

1. åˆ›å»ºæ•°æ®åº“ï¼š
```bash
mysql -uroot -p123456 < database-setup.sql
```

æˆ–æ‰‹åŠ¨åˆ›å»ºï¼š
```sql
CREATE DATABASE multi_site_cms CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
```

2. æ•°æ®åº“é…ç½®ï¼ˆå·²åœ¨ `backend/src/main/resources/application-dev.yml` ä¸­é…ç½®ï¼‰ï¼š
```yaml
spring:
  datasource:
    url: jdbc:mysql://localhost:3306/multi_site_cms
    username: root
    password: 123456
```

3. å¯åŠ¨åç«¯é¡¹ç›®ï¼ŒFlywayä¼šè‡ªåŠ¨æ‰§è¡Œæ•°æ®åº“è¿ç§»å¹¶æ’å…¥æµ‹è¯•æ•°æ®

## å·²å®ç°åŠŸèƒ½

### åç«¯ï¼ˆå·²å®Œæˆï¼‰
- âœ… JWTè®¤è¯å’Œæˆæƒ
- âœ… ç”¨æˆ·ç™»å½•æ¥å£ï¼ˆPOST /api/auth/loginï¼‰
- âœ… è·å–ç”¨æˆ·ä¿¡æ¯æ¥å£ï¼ˆGET /api/auth/meï¼‰
- âœ… é€€å‡ºç™»å½•æ¥å£ï¼ˆPOST /api/auth/logoutï¼‰
- âœ… ç”¨æˆ·ç®¡ç†APIï¼ˆå®Œæ•´CRUDï¼‰
  - GET /api/users - è·å–ç”¨æˆ·åˆ—è¡¨ï¼ˆåˆ†é¡µã€æœç´¢ã€ç­›é€‰ï¼‰
  - GET /api/users/{id} - è·å–ç”¨æˆ·è¯¦æƒ…
  - POST /api/users - åˆ›å»ºç”¨æˆ·
  - PUT /api/users/{id} - æ›´æ–°ç”¨æˆ·
  - DELETE /api/users/{id} - åˆ é™¤ç”¨æˆ·
  - PUT /api/users/{id}/avatar - æ›´æ–°ç”¨æˆ·å¤´åƒ
- âœ… æ–‡ä»¶ä¸Šä¼ API
  - POST /api/files/avatar - ä¸Šä¼ å¤´åƒï¼ˆæœ€å¤§5MBï¼Œæ”¯æŒJPG/PNG/GIF/WEBPï¼‰
  - POST /api/files/image - ä¸Šä¼ å›¾ç‰‡ï¼ˆæœ€å¤§5MBï¼‰
  - POST /api/files/upload - ä¸Šä¼ æ–‡ä»¶ï¼ˆæœ€å¤§10MBï¼‰
- âœ… é™æ€èµ„æºè®¿é—®ï¼ˆ/files/**ï¼‰
- âœ… Spring Securityé…ç½®
- âœ… CORSè·¨åŸŸé…ç½®
- âœ… æƒé™æ§åˆ¶ï¼ˆ@PreAuthorizeï¼‰
- âœ… æ•°æ®åº“è¿ç§»ï¼ˆFlywayï¼‰
- âœ… æµ‹è¯•æ•°æ®åˆå§‹åŒ–

### å‰ç«¯ï¼ˆå·²å®Œæˆï¼‰
- âœ… ç”¨æˆ·ç™»å½•é¡µé¢
- âœ… çœŸå®APIé›†æˆ
- âœ… Tokenè‡ªåŠ¨ç®¡ç†
- âœ… è·¯ç”±å®ˆå«
- âœ… ä¸»å¸ƒå±€ï¼ˆä¾§è¾¹æ ã€é¡¶éƒ¨æ ï¼‰
- âœ… ä»ªè¡¨ç›˜é¡µé¢
- âœ… ç”¨æˆ·ç®¡ç†é¡µé¢ï¼ˆå®Œæ•´CRUDåŠŸèƒ½ï¼‰
  - ç”¨æˆ·åˆ—è¡¨ï¼ˆè¡¨æ ¼ã€åˆ†é¡µï¼‰
  - å…³é”®è¯æœç´¢ï¼ˆç”¨æˆ·åã€é‚®ç®±ã€æ˜µç§°ï¼‰
  - çŠ¶æ€ç­›é€‰
  - æ–°å¢ç”¨æˆ·ï¼ˆè¡¨å•éªŒè¯ï¼‰
  - ç¼–è¾‘ç”¨æˆ·
  - åˆ é™¤ç”¨æˆ·ï¼ˆç¡®è®¤å¯¹è¯æ¡†ï¼‰
  - è§’è‰²åˆ†é…
- âœ… ä¸ªäººä¸­å¿ƒé¡µé¢
  - æŸ¥çœ‹ä¸ªäººä¿¡æ¯
  - ç¼–è¾‘ä¸ªäººèµ„æ–™
  - å¤´åƒä¸Šä¼ å’Œæ˜¾ç¤º
  - ä¿®æ”¹å¯†ç è¡¨å•ï¼ˆå¾…å®ç°ï¼‰
  - æ˜¾ç¤ºè§’è‰²å’Œæƒé™
- âœ… æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½
  - å¤´åƒä¸Šä¼ ç»„ä»¶ï¼ˆel-uploadï¼‰
  - æ–‡ä»¶ç±»å‹éªŒè¯
  - æ–‡ä»¶å¤§å°éªŒè¯
  - ä¸Šä¼ è¿›åº¦æ˜¾ç¤º
  - å®æ—¶é¢„è§ˆ
- âœ… ç”¨æˆ·å¤´åƒæ˜¾ç¤ºï¼ˆé¡¶éƒ¨æ ã€ä¸ªäººä¸­å¿ƒï¼‰
- âœ… ç«™ç‚¹ç®¡ç†é¡µé¢UIï¼ˆå¡ç‰‡å±•ç¤ºï¼‰
- âœ… å†…å®¹ç®¡ç†é¡µé¢UIï¼ˆè¡¨æ ¼ã€ç­›é€‰ï¼‰
- âœ… å“åº”å¼è®¾è®¡
- âœ… TypeScriptç±»å‹æ”¯æŒ

## è®¡åˆ’åŠŸèƒ½

- âœ… ç”¨æˆ·ç®¡ç†CRUD APIï¼ˆå·²å®Œæˆï¼‰
- âœ… æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½ï¼ˆå·²å®Œæˆï¼‰
- ğŸ”„ ç«™ç‚¹ç®¡ç†CRUD API
- ğŸ”„ å†…å®¹ç®¡ç†CRUD API
- ğŸ”„ åˆ†ç±»å’Œæ ‡ç­¾ç®¡ç†
- ğŸ”„ å·¥ä½œæµå®¡æ‰¹
- ğŸ”„ ç‰ˆæœ¬æ§åˆ¶
- ğŸ”„ å¤šè¯­è¨€æ”¯æŒ
- ğŸ”„ å†…å®¹å…±äº«
- ğŸ”„ æ•°æ®ç»Ÿè®¡åˆ†æ
- ğŸ”„ åª’ä½“æ–‡ä»¶ç®¡ç†ï¼ˆæ–‡ä»¶åˆ—è¡¨ã€åˆ é™¤ç­‰ï¼‰

## é»˜è®¤è´¦å·

| è§’è‰² | ç”¨æˆ·å | å¯†ç  | è¯´æ˜ |
|------|--------|------|------|
| è¶…çº§ç®¡ç†å‘˜ | admin | password | æ‹¥æœ‰æ‰€æœ‰æƒé™ |
| ç«™ç‚¹ç®¡ç†å‘˜ | siteadmin | password | ç®¡ç†æŒ‡å®šç«™ç‚¹ |
| ç¼–è¾‘è€… | editor1 | password | åˆ›å»ºå’Œç¼–è¾‘å†…å®¹ |
| å®¡æ ¸è€… | reviewer1 | password | å®¡æ ¸å†…å®¹ |
| ç¿»è¯‘è€… | translator1 | password | ç¿»è¯‘å†…å®¹ |

**æ³¨æ„ï¼š** å¯†ç å·²ä» `admin123` æ›´æ–°ä¸º `password`ï¼ˆBCryptåŠ å¯†ï¼‰

## æµ‹è¯•æ•°æ®

ç³»ç»Ÿå·²è‡ªåŠ¨åˆå§‹åŒ–ä»¥ä¸‹æµ‹è¯•æ•°æ®ï¼š
- 6ä¸ªè§’è‰²ï¼Œ60+æƒé™
- 26ä¸ªæµ‹è¯•ç”¨æˆ·
- 8ä¸ªç«™ç‚¹
- 40ä¸ªåˆ†ç±»
- 120ä¸ªæ ‡ç­¾
- 250+ç¯‡å†…å®¹
- 4ä¸ªå·¥ä½œæµå®šä¹‰
- 50ä¸ªåª’ä½“æ–‡ä»¶

## å¼€å‘è§„èŒƒ

- éµå¾ªé˜¿é‡Œå·´å·´Javaå¼€å‘è§„èŒƒ
- ä½¿ç”¨ESLintå’ŒPrettieræ ¼å¼åŒ–ä»£ç 
- Gitæäº¤éµå¾ªConventional Commitsè§„èŒƒ
- ä»£ç å®¡æŸ¥ååˆå¹¶åˆ°ä¸»åˆ†æ”¯

## æ–‡æ¡£

- [éœ€æ±‚æ–‡æ¡£](./æ–‡æ¡£/éœ€æ±‚æ–‡æ¡£.md)
- [APIæ¥å£æ–‡æ¡£](./æ–‡æ¡£/APIæ¥å£æ–‡æ¡£.md)

## æ›´æ–°æ—¥å¿—

### 2025-10-03

#### v0.5.0 - æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½
- âœ… å®ç°æ–‡ä»¶ä¸Šä¼ åç«¯API
  - FileControllerï¼ˆå¤´åƒã€å›¾ç‰‡ã€æ–‡ä»¶ä¸Šä¼ ï¼‰
  - FileServiceï¼ˆæ–‡ä»¶éªŒè¯ã€ä¿å­˜ã€URLç”Ÿæˆï¼‰
  - FileUploadResponse DTO
- âœ… å®ç°ç”¨æˆ·å¤´åƒä¸Šä¼ å’Œæ˜¾ç¤º
  - å¤´åƒä¸Šä¼ ç»„ä»¶ï¼ˆel-uploadï¼‰
  - æ–‡ä»¶ç±»å‹éªŒè¯ï¼ˆJPG/PNG/GIF/WEBPï¼‰
  - æ–‡ä»¶å¤§å°éªŒè¯ï¼ˆæœ€å¤§5MBï¼‰
  - å®æ—¶é¢„è§ˆ
  - åœ†å½¢å¤´åƒæ˜¾ç¤º
- âœ… æ›´æ–°ä¸ªäººä¸­å¿ƒé¡µé¢
  - å¤´åƒä¸Šä¼ åŒºåŸŸ
  - å¤´åƒé¢„è§ˆ
  - ä¸Šä¼ æˆåŠŸ/å¤±è´¥æç¤º
- âœ… æ›´æ–°ä¸»å¸ƒå±€
  - é¡¶éƒ¨æ æ˜¾ç¤ºç”¨æˆ·å¤´åƒ
  - å¤´åƒ+ç”¨æˆ·åå¸ƒå±€
- âœ… é…ç½®é™æ€èµ„æºè®¿é—®
  - /files/** æ˜ å°„åˆ° uploads/ ç›®å½•
  - æ–‡ä»¶æŒ‰æ—¥æœŸåˆ†ç±»å­˜å‚¨ï¼ˆyyyy/MM/ddï¼‰
  - UUIDæ–‡ä»¶åé˜²æ­¢å†²çª

#### v0.4.0 - ä¸ªäººä¸­å¿ƒåŠŸèƒ½å’Œé”™è¯¯ä¿®å¤
- âœ… ä¿®å¤user_rolesè¡¨granted_byå­—æ®µé”™è¯¯
- âœ… å®ç°ä¸ªäººä¸­å¿ƒé¡µé¢
- âœ… æŸ¥çœ‹å’Œç¼–è¾‘ä¸ªäººä¿¡æ¯
- âœ… ä¿®æ”¹å¯†ç è¡¨å•ï¼ˆå¾…å®ç°ï¼‰
- âœ… æ˜¾ç¤ºè§’è‰²å’Œæƒé™
- âœ… æ˜¾ç¤ºæ³¨å†Œæ—¶é—´å’Œæœ€åç™»å½•æ—¶é—´

#### v0.3.0 - ç”¨æˆ·ç®¡ç†åŠŸèƒ½å®Œæˆ
- âœ… å®ç°ç”¨æˆ·ç®¡ç†åç«¯APIï¼ˆå®Œæ•´CRUDï¼‰
- âœ… å‰ç«¯é›†æˆç”¨æˆ·ç®¡ç†çœŸå®API
- âœ… åˆ›å»ºUserDialogç»„ä»¶ï¼ˆæ–°å¢/ç¼–è¾‘ç”¨æˆ·ï¼‰
- âœ… å®ç°è¡¨å•éªŒè¯
- âœ… å®ç°è§’è‰²åˆ†é…åŠŸèƒ½
- âœ… å®ç°æœç´¢å’Œç­›é€‰åŠŸèƒ½
- âœ… å®ç°åˆ†é¡µåŠŸèƒ½
- âœ… å®Œæ•´çš„é”™è¯¯å¤„ç†å’Œæç¤º

### 2025-10-02

#### v0.2.0 - ç”¨æˆ·è®¤è¯å’Œå‰ç«¯UIå®Œå–„
- âœ… å®ç°JWTè®¤è¯æ¡†æ¶
- âœ… å®ç°ç”¨æˆ·ç™»å½•ã€è·å–ç”¨æˆ·ä¿¡æ¯ã€é€€å‡ºç™»å½•æ¥å£
- âœ… å‰ç«¯é›†æˆçœŸå®ç™»å½•API
- âœ… å®Œå–„ç”¨æˆ·ã€ç«™ç‚¹ã€å†…å®¹ç®¡ç†é¡µé¢UI
- âœ… ä¿®å¤TypeScriptç±»å‹å¯¼å…¥é”™è¯¯
- âœ… ä¿®å¤axiosç±»å‹å¯¼å…¥é”™è¯¯
- âœ… ç»Ÿä¸€ä½¿ç”¨è·¯å¾„åˆ«å@å¯¼å…¥æ¨¡å—
- âœ… æ›´æ–°å¯†ç ä¸ºBCryptåŠ å¯†ï¼ˆpasswordï¼‰

#### v0.1.0 - é¡¹ç›®åˆå§‹åŒ–
- âœ… åˆ›å»ºSpring Bootåç«¯é¡¹ç›®
- âœ… åˆ›å»ºVue.jså‰ç«¯é¡¹ç›®
- âœ… è®¾è®¡å¹¶åˆ›å»º21å¼ æ•°æ®è¡¨
- âœ… åˆå§‹åŒ–æµ‹è¯•æ•°æ®
- âœ… é…ç½®Flywayæ•°æ®åº“è¿ç§»
- âœ… é…ç½®å¼€å‘ç¯å¢ƒ

## è®¸å¯è¯

MIT License

## ä½œè€…

æ¯•ä¸šè®¾è®¡é¡¹ç›®

