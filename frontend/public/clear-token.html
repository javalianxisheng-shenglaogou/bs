<!DOCTYPE html>
<html>
<head>
    <title>æ¸…é™¤Token</title>
    <meta charset="UTF-8">
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .container {
            background: white;
            padding: 40px;
            border-radius: 10px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
            text-align: center;
            max-width: 500px;
        }
        h1 {
            color: #333;
            margin-bottom: 20px;
        }
        .info {
            background: #f0f9ff;
            border-left: 4px solid #0ea5e9;
            padding: 15px;
            margin: 20px 0;
            text-align: left;
        }
        .success {
            background: #f0fdf4;
            border-left: 4px solid #22c55e;
            padding: 15px;
            margin: 20px 0;
            display: none;
        }
        button {
            background: #667eea;
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            margin: 10px;
        }
        button:hover {
            background: #5568d3;
        }
        .danger {
            background: #ef4444;
        }
        .danger:hover {
            background: #dc2626;
        }
        pre {
            background: #f5f5f5;
            padding: 10px;
            border-radius: 5px;
            text-align: left;
            overflow-x: auto;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ”§ æ¸…é™¤Tokenå·¥å…·</h1>
        
        <div class="info">
            <h3>âš ï¸ å½“å‰é—®é¢˜</h3>
            <p>æ‚¨çš„ç™»å½•Tokenå·²è¿‡æœŸæˆ–æ— æ•ˆï¼Œå¯¼è‡´æ— æ³•è®¿é—®ç³»ç»ŸåŠŸèƒ½ã€‚</p>
            <p><strong>é”™è¯¯ä¿¡æ¯ï¼š</strong></p>
            <pre>JWT signature does not match locally computed signature</pre>
        </div>

        <div id="tokenInfo" style="margin: 20px 0;">
            <h3>ğŸ“‹ å½“å‰Tokenä¿¡æ¯</h3>
            <pre id="currentToken" style="word-break: break-all; white-space: pre-wrap;"></pre>
        </div>

        <button onclick="clearToken()" class="danger">æ¸…é™¤Token</button>
        <button onclick="goToLogin()">å‰å¾€ç™»å½•</button>

        <div id="success" class="success">
            <h3>âœ… Tokenå·²æ¸…é™¤</h3>
            <p>è¯·ç‚¹å‡»"å‰å¾€ç™»å½•"æŒ‰é’®é‡æ–°ç™»å½•ç³»ç»Ÿã€‚</p>
        </div>
    </div>

    <script>
        // æ˜¾ç¤ºå½“å‰Token
        function showCurrentToken() {
            const token = localStorage.getItem('token');
            const tokenElement = document.getElementById('currentToken');
            
            if (token) {
                tokenElement.textContent = `Token: ${token.substring(0, 50)}...\né•¿åº¦: ${token.length} å­—ç¬¦`;
            } else {
                tokenElement.textContent = 'æœªæ‰¾åˆ°Token';
            }
        }

        // æ¸…é™¤Token
        function clearToken() {
            // æ¸…é™¤localStorageä¸­çš„æ‰€æœ‰æ•°æ®
            localStorage.clear();
            
            // æ¸…é™¤sessionStorageä¸­çš„æ‰€æœ‰æ•°æ®
            sessionStorage.clear();
            
            // æ˜¾ç¤ºæˆåŠŸæ¶ˆæ¯
            document.getElementById('success').style.display = 'block';
            document.getElementById('tokenInfo').style.display = 'none';
            
            console.log('âœ… Tokenå·²æ¸…é™¤');
            console.log('âœ… localStorageå·²æ¸…ç©º');
            console.log('âœ… sessionStorageå·²æ¸…ç©º');
        }

        // å‰å¾€ç™»å½•é¡µé¢
        function goToLogin() {
            window.location.href = '/';
        }

        // é¡µé¢åŠ è½½æ—¶æ˜¾ç¤ºå½“å‰Token
        showCurrentToken();
    </script>
</body>
</html>

