# 如何生成设计文档图片 - 完整指南

本指南将教您如何使用免费工具生成项目所需的各种设计图片。

---

## 📋 目录

1. [推荐的免费工具](#1-推荐的免费工具)
2. [生成ER图](#2-生成er图)
3. [生成功能结构图](#3-生成功能结构图)
4. [生成流程图](#4-生成流程图)
5. [生成原型图](#5-生成原型图)
6. [常见问题](#6-常见问题)

---

## 1. 推荐的免费工具

### 🌟 Mermaid Live Editor（强烈推荐）

**网址**：https://mermaid.live/

**优点**：
- ✅ 完全免费，无需注册
- ✅ 在线使用，无需安装
- ✅ 支持实时预览
- ✅ 可导出PNG、SVG、PDF
- ✅ 支持多种图表类型

**适用场景**：
- ER图（数据库设计）
- 流程图
- 时序图
- 状态图
- 类图
- 甘特图

**使用步骤**：
1. 打开 https://mermaid.live/
2. 删除左侧默认代码
3. 粘贴本项目提供的Mermaid代码
4. 右侧自动显示图表
5. 点击右上角"Actions" → "Download PNG"

---

### 🎨 Draw.io（功能最强大）

**网址**：https://app.diagrams.net/

**优点**：
- ✅ 完全免费，开源
- ✅ 功能强大，专业级
- ✅ 支持多种图表类型
- ✅ 可以手动绘制和编辑
- ✅ 支持导入Mermaid代码
- ✅ 可保存到本地或云端

**适用场景**：
- 所有类型的图表
- 需要精细调整的图表
- 复杂的架构图
- 原型图

**使用步骤**：

#### 方法1：导入Mermaid代码
1. 打开 https://app.diagrams.net/
2. 点击菜单：Arrange → Insert → Advanced → Mermaid
3. 粘贴Mermaid代码
4. 点击"Insert"
5. 可以进一步编辑美化
6. File → Export as → PNG/PDF

#### 方法2：手动绘制
1. 打开 https://app.diagrams.net/
2. 选择模板或空白画布
3. 从左侧拖拽图形到画布
4. 连接图形，添加文字
5. 调整样式和布局
6. 导出为图片

---

### 📝 ProcessOn（中文界面）

**网址**：https://www.processon.com/

**优点**：
- ✅ 中文界面，易上手
- ✅ 丰富的模板库
- ✅ 在线协作
- ✅ 免费版可创建9个文件

**缺点**：
- ⚠️ 需要注册
- ⚠️ 免费版有文件数量限制

**适用场景**：
- 流程图
- 思维导图
- UML图
- 网络拓扑图

---

### 🖥️ 本地工具

#### Typora（Markdown编辑器）

**网址**：https://typora.io/

**优点**：
- ✅ 原生支持Mermaid
- ✅ 所见即所得
- ✅ 可导出PDF/图片

**使用步骤**：
1. 安装Typora
2. 创建新文档
3. 插入代码块：```mermaid
4. 粘贴Mermaid代码
5. 自动渲染
6. 右键图表 → 导出为图片

#### VS Code（代码编辑器）

**插件**：Markdown Preview Mermaid Support

**使用步骤**：
1. 安装VS Code
2. 安装插件：Markdown Preview Mermaid Support
3. 创建.md文件
4. 插入Mermaid代码块
5. 预览（Ctrl+Shift+V）
6. 右键导出

---

## 2. 生成ER图

### 步骤1：获取代码

打开文件：`设计文档/数据库设计/ER图-Mermaid代码.md`

### 步骤2：选择要生成的图

文件中包含多个ER图：
- **完整ER图**：包含所有表（可能较大）
- **用户管理模块ER图**：只包含用户相关表
- **内容管理模块ER图**：只包含内容相关表
- **工作流管理模块ER图**：只包含工作流相关表

**建议**：分模块生成，图表更清晰

### 步骤3：生成图片

#### 使用Mermaid Live Editor

1. 打开 https://mermaid.live/
2. 复制选中的Mermaid代码
3. 粘贴到左侧编辑器
4. 等待右侧渲染完成
5. 点击"Actions" → "Download PNG"
6. 选择分辨率（建议2x或3x）
7. 保存到：`设计文档/数据库设计/`

#### 使用Draw.io

1. 打开 https://app.diagrams.net/
2. Arrange → Insert → Advanced → Mermaid
3. 粘贴代码 → Insert
4. 调整布局和样式
5. File → Export as → PNG
6. 设置：
   - 分辨率：300 DPI
   - 背景：透明或白色
   - 边距：10px
7. 保存

### 步骤4：命名规范

建议的文件名：
- `ER图-完整-v1.0.png`
- `ER图-用户管理模块-v1.0.png`
- `ER图-内容管理模块-v1.0.png`
- `ER图-工作流管理模块-v1.0.png`

---

## 3. 生成功能结构图

### 步骤1：获取代码

打开文件：`设计文档/功能结构图/系统功能结构图-Mermaid代码.md`

### 步骤2：选择图表类型

文件中包含多种图表：
- **系统功能结构图**（思维导图）
- **系统架构图**
- **技术架构图**
- **用户权限模型图**
- **内容发布流程图**
- **版本控制流程图**
- **工作流执行流程图**
- **数据流图**
- **部署架构图**
- **模块依赖关系图**

### 步骤3：生成图片

#### 使用Mermaid Live Editor

1. 打开 https://mermaid.live/
2. 复制对应的代码块
3. 粘贴到编辑器
4. 调整配置（可选）：
   - 点击"Configuration"
   - 调整主题：default/forest/dark/neutral
   - 调整字体大小
5. 下载PNG

#### 使用Draw.io

1. 导入Mermaid代码
2. 调整颜色和样式
3. 添加图例说明
4. 导出高清图片

### 步骤4：保存位置

保存到：`设计文档/功能结构图/`

建议的文件名：
- `系统功能结构图-v1.0.png`
- `系统架构图-v1.0.png`
- `技术架构图-v1.0.png`
- `内容发布流程图-v1.0.png`
- `版本控制流程图-v1.0.png`

---

## 4. 生成流程图

### 业务流程图

#### 推荐工具：Draw.io

**步骤**：
1. 打开 https://app.diagrams.net/
2. 选择模板：Flowchart
3. 使用图形：
   - **圆角矩形**：开始/结束
   - **矩形**：处理步骤
   - **菱形**：判断
   - **箭头**：流程方向
4. 添加文字说明
5. 调整颜色和样式
6. 导出PNG

#### 常用流程图

建议绘制以下流程图：
- 用户登录流程
- 内容发布流程
- 审批流程
- 版本恢复流程

---

## 5. 生成原型图

### 推荐工具

#### 1. Figma（在线，免费）

**网址**：https://www.figma.com/

**优点**：
- ✅ 完全免费
- ✅ 功能强大
- ✅ 在线协作
- ✅ 丰富的组件库

**使用步骤**：
1. 注册Figma账号
2. 创建新文件
3. 使用组件库绘制界面
4. 导出为PNG

#### 2. Axure RP（专业）

**网址**：https://www.axure.com/

**优点**：
- ✅ 专业原型工具
- ✅ 交互功能强大

**缺点**：
- ⚠️ 收费软件（有试用期）

#### 3. 墨刀（中文，免费）

**网址**：https://modao.cc/

**优点**：
- ✅ 中文界面
- ✅ 免费版功能够用
- ✅ 丰富的模板

---

## 6. 常见问题

### Q1: Mermaid图表显示不全怎么办？

**解决方案**：
1. 减少字段数量，只显示关键字段
2. 分模块生成多个图表
3. 使用Draw.io手动调整布局

### Q2: 如何调整图表样式？

**Mermaid Live Editor**：
- 点击"Configuration"
- 修改主题：theme: default/forest/dark/neutral
- 修改字体大小：fontSize: 16

**Draw.io**：
- 选中元素
- 右侧面板调整样式
- 颜色、字体、边框等

### Q3: 如何导出高清图片？

**建议设置**：
- 分辨率：300 DPI
- 缩放：2x 或 3x
- 格式：PNG（透明背景）或 PDF（矢量）

### Q4: 图表太大无法显示？

**解决方案**：
1. 分模块生成
2. 使用SVG格式（矢量，可缩放）
3. 导出PDF格式

### Q5: 如何批量生成图表？

**使用命令行工具**：

```bash
# 安装mermaid-cli
npm install -g @mermaid-js/mermaid-cli

# 批量生成
mmdc -i ER图-Mermaid代码.md -o ER图.png
mmdc -i 功能结构图-Mermaid代码.md -o 功能结构图.png
```

### Q6: 生成的图片中文乱码？

**解决方案**：
1. 确保文件编码为UTF-8
2. 在Mermaid配置中指定字体：
   ```
   %%{init: {'theme':'base', 'themeVariables': { 'fontFamily':'Microsoft YaHei'}}}%%
   ```
3. 使用Draw.io重新绘制

---

## 📝 快速操作清单

### 生成ER图
- [ ] 打开 https://mermaid.live/
- [ ] 复制 `ER图-Mermaid代码.md` 中的代码
- [ ] 粘贴到编辑器
- [ ] 下载PNG（2x分辨率）
- [ ] 保存到 `设计文档/数据库设计/`

### 生成功能结构图
- [ ] 打开 https://mermaid.live/
- [ ] 复制 `系统功能结构图-Mermaid代码.md` 中的代码
- [ ] 粘贴到编辑器
- [ ] 下载PNG（2x分辨率）
- [ ] 保存到 `设计文档/功能结构图/`

### 生成流程图
- [ ] 打开 https://app.diagrams.net/
- [ ] 选择Flowchart模板
- [ ] 绘制流程图
- [ ] 导出PNG（300 DPI）
- [ ] 保存到对应目录

### 生成原型图
- [ ] 打开 https://www.figma.com/
- [ ] 创建新设计文件
- [ ] 绘制界面原型
- [ ] 导出PNG
- [ ] 保存到 `设计文档/原型图/`

---

## 🎯 推荐工作流程

1. **第一步**：使用Mermaid Live Editor生成基础图表
2. **第二步**：使用Draw.io导入并美化
3. **第三步**：导出高清PNG和PDF
4. **第四步**：保存到对应目录
5. **第五步**：在README中引用图片

---

## 📞 需要帮助？

如果在生成图片过程中遇到问题：

1. 查看本指南的常见问题部分
2. 访问工具的官方文档
3. 搜索相关教程

---

**最后更新**：2025-10-07  
**维护者**：开发团队

